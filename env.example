# =====================================================
# AppAqua Environment Configuration
# Copy to .env.local and fill with your values
# =====================================================

# Database Configuration (Required)
# For development with Docker: mysql://aqua_user:aqua_password_dev@localhost:3307/aqua_sonda
# For production VPS: mysql://username:password@host:port/aqua_sonda
DATABASE_URL="mysql://aqua_user:aqua_password_dev@localhost:3307/aqua_sonda"

# Authentication (Required)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="generate-a-secure-32-char-secret-key-here"
NEXTAUTH_URL="http://localhost:3000"

# JWT (Required) 
# Generate with: openssl rand -base64 32
JWT_SECRET="generate-another-secure-32-char-jwt-secret"
JWT_EXPIRES_IN="24h"
REFRESH_TOKEN_EXPIRES_IN="7d"

# Node Environment
NODE_ENV="development"

# Email Configuration (Optional - for password recovery)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"
SMTP_FROM="AquaMonitor <noreply@aquamonitor.com>"

# Telegram (Optional - for notifications)
TELEGRAM_BOT_TOKEN="your-bot-token"
TELEGRAM_CHAT_ID_ADMIN="123456789"

# Application URLs
NEXT_PUBLIC_API_URL="http://localhost:3000/api"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# External Backend API (for sensor data integration)
# Backend running on port 3300 of hosting URL
# IMPORTANTE: Este backend Fastify maneja lecturas en tiempo real, sensores, organizaciones
NEXT_PUBLIC_EXTERNAL_API_URL="https://195.35.11.179:3300"
EXTERNAL_API_URL="https://195.35.11.179:3300"

# WebSocket URL for real-time sensor data
# IMPORTANTE: El WebSocket usa filtros en URL, no suscripción dinámica
# Ejemplos: ws://host/ws/lecturas?sensorInstaladoId=1 o ?instalacionId=5
NEXT_PUBLIC_WS_URL="wss://195.35.11.179:3300/ws/lecturas"

# Rate Limiting
RATE_LIMIT_MAX_ATTEMPTS="5"
RATE_LIMIT_WINDOW_MINUTES="15"

# Security
BCRYPT_SALT_ROUNDS="12"

# Observability (Optional - for production monitoring)
NEXT_PUBLIC_SENTRY_DSN=""
SENTRY_DSN=""

# File Storage (Optional - for logo/document uploads)
AWS_S3_BUCKET=""
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"

# Redis (Optional - for caching and sessions)
REDIS_URL="redis://localhost:6379"

# =====================================================
# Development Quick Start:
# 1. Copy this file to .env.local
# 2. Generate secrets: npm run generate:secrets
# 3. Start Docker: npm run docker:up
# 4. Run migrations: npm run db:migrate
# 5. Seed data: npm run db:seed
# 6. Start development: npm run dev
# =====================================================
